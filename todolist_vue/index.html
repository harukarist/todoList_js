<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <title>TodoList with Vue.js</title>
  <link rel="stylesheet" href="dist/css/app.css">
  <script src="https://kit.fontawesome.com/f2d7c28546.js" crossorigin="anonymous"></script>
</head>

<body>
  <div class="main">

    <div id="app">

      <section class="heading">
        <h1 class="heading__mainTitle">Todo List</h1>
        <h5 class="heading__subTitle">with Vue.js</h5>
        <i class="fab fa-vuejs heading__subTitle"></i>
      </section>

      <section class="section__todoCreator">
        <!-- 入力フォーム -->
        <todo-creator :propsarr="todos" @input-propsarr="todos = $event" @show-all="showAll"></todo-creator>
        <!-- <div class="formArea">
          <div class="entryBox">
            <input type="text" class="entryBox__input" value="" ref="inputBox" placeholder="タスクを入力"
              @keydown="saveKeyDown($event)" @keyup.enter="checkKeyUp($event)">
            <button class="far fa-paper-plane entryBox__btn" @click="addTask($event)" aria-hidden="true"></button>
          </div>
          <span class="formArea__is-error">{{errMsg}}</span>
        </div> -->
      </section>

      <!-- メニュー  -->
      <section class="section__todoMenu">
        <ul class="todoMenu">
          <li @click="showAll" :class="classMenuAll" class="todoMenu__item"><i class="fas fa-archive"
              aria-hidden="true"></i>すべて</li>
          <li @click="showMust" :class="classMenuMust" class="todoMenu__item"><i class="fas fa-star icon-star"
              aria-hidden="true"></i>重要</li>
          <li @click="showSmall" :class="classMenuSmall" class="todoMenu__item"><i
              class="fas fa-stopwatch icon-stopwatch" aria-hidden="true"></i>スキマ時間</li>
        </ul>
      </section>

      <!-- ToDoリスト -->
      <section class="section__todoList">

        <transition name="slide-list" tag="ul">

          <!-- 重要リスト -->
          <ul class="todoList__list" v-if="menuFlg === 'MUST'">
            <transition-group name="slide-item" tag="li">
              <task-item v-for="todo in todosMust" :key="todo.id" :propsobj="todo" @update-props="todo = $event">
              </task-item>
              <!-- v-forとv-modelは両立できない -->
              <!-- NG <task-item v-for="todo in todos" :key="todo.id" v-model="todo"></task-item> -->
            </transition-group>
          </ul>

          <!-- スキマ時間リスト -->
          <ul class="todoList__list" v-else-if="menuFlg === 'SMALL'">
            <transition-group name="slide-item" tag="li">
              <task-item v-for="todo in todosSmall" :key="todo.id" :propsobj="todo" @update-props="todo = $event">
              </task-item>
            </transition-group>
          </ul>

          <!-- ゴミ箱リスト -->
          <ul class="todoList__list" v-else-if="menuFlg === 'TRASH'">
            <transition-group name="slide-item" tag="li">
              <task-item v-for="todo in todosTrash" :key="todo.id" :propsobj="todo" @update-props="todo = $event">
              </task-item>
            </transition-group>
          </ul>

          <!-- すべて -->
          <ul class="todoList__list" v-else>
            <transition-group name="slide-item" tag="li">
              <task-item v-for="todo in todosAll" :key="todo.id" :propsobj="todo" @update-props="todo = $event">
              </task-item>
            </transition-group>
          </ul>
        </transition>

        <!-- <button v-if="onlyWillDo" @click="showDone">
          <i class="far fa-check-square icon-checkbox" aria-hidden="true"></i>
          完了したタスクを表示</button>
        <button v-else @click="hideDone">
          <i class="far fa-square icon-checkbox" aria-hidden="true"></i>
          未完了タスクのみ表示</button> -->
          

          
        <button v-if="onlyWillDo" @click="showDone">
          <i class="far fa-check-square icon-checkbox" aria-hidden="true"></i>
          完了したタスクを表示</button>
        <button v-else @click="hideDone">
          <i class="far fa-square icon-checkbox" aria-hidden="true"></i>
          未完了タスクのみ表示</button>
          
        <!-- <button @click="hideWill">
          <i class="far fa-check-square icon-checkbox" aria-hidden="true"></i>
          完了したタスクのみ表示</button> -->

        <!-- 子コンポーネントなし -->
        <!-- <ul class="todoList">
          <li v-for="(todo,index) in todos" :key="todo.id" :todo="todo" :class="classTaskItem">
            <i :class="classCheckBox" @click="toggleDone(index)" aria-hidden="true"></i>
            <span v-show="!isEdit" class="todoList__taskName" 　@click="isEdit=true">{{ todo.taskName }}</span>
            <span v-show="isEdit" class="todoList__editArea" @mouseover="focusEdit">
              <input type="text" class="todoList__editBox"  v-model="editVal=todo.taskName"
                ref="editBox" @change="changeTaskName($event)" @keydown.13="closeEdit($event)"
                @blur="closeEdit($event)">
            </span>
            <i :class="classMustIcon" @click="toggleMust(index)" aria-hidden="true"></i>
            <i class="fas fa-trash-alt icon-trash" @click="removeTask(index)" aria-hidden="true"></i>
          </li>
        </ul> -->
      </section>

      <!-- 検索ボックス -->
      <section class="section__searchBox">

        <task-search :propsarr="todos" @update-propsarr="todos = $event"></task-search>

        <!-- <div class="searchBox">
                <input type="text" class="searchBox__input" value="" v-model="searchVal" placeholder="Search..."
                  @keyup="searchTasks">
                <i class="fas fa-search searchBox__icon" aria-hidden="true"></i>
              </div> -->
      </section>

      <button @click="showTrash">
        <i class="far fa-square icon-checkbox" aria-hidden="true"></i>
        ゴミ箱を表示</button>
    </div>
  </div>
  <script src="dist/js/bundle.js"></script>
</body>

</html>
